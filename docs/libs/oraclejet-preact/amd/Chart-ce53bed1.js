define(['exports', 'preact/jsx-runtime', './useTextDimensions-a2b7ad1c', './useCssVars-bb132b52', './cssUtils-c2fe63b6', './UNSAFE_Chart/themes/ChartStyles.css', 'preact/hooks', './Gridlines-472d4a3a', './useId-bea76214', './Axis-3a085f87', './useChartViewport-c153fdc8', './layoutUtils-0ad07fd9', './useChartNav-597e208b', './mergeProps-7d608009', './useSelectDrill-04eec4ad', './useTestId-af48c25c', './TrackResizeContainer-ff49e9cb', './ScrollBar-985a6840'], (function(e,t,o,i,r,a,n,s,l,d,c,x,u,p,g,I,h,f){"use strict";function S(e,t,o){const i=e.groupIndex+1;if(!(i>=t))return o(i)?{groupIndex:i}:S({groupIndex:i},t,o)}function m(e,t){const o=e.groupIndex-1;if(!(o<0))return t(o)?{groupIndex:o}:m({groupIndex:o},t)}e.Chart=function({width:e="100%",height:v="448px",selectedIds:C=[],hiddenIds:y,hideAndShowBehavior:A="none",orientation:b="vertical",xAxis:D,yAxis:w,plotArea:P,series:N,groups:E,isStacked:G=!1,getDataItem:V,selectionMode:j="none",drilling:T="off",dataCursorPosition:M,onSelectionChange:R,isDataCursorEnabled:k,dataCursorStyle:z,onViewportChange:F,onDataCursorPositionChange:B,onItemDrill:L,onGroupDrill:U,onItemInput:H,datatip:O,zoomAndScroll:W="off",offset:$,getNavUtil:_,getDataItemPos:q,getGapRatio:J,valueFormats:K,findNearest:Q,isRtl:X,children:Y,testId:Z,renderGridLinesInFront:ee,...te}){const oe=r.getChartVars(),ie=I.useTestId(Z);return t.jsx(h.TrackResizeContainer,{width:e,height:v,children:function(e,r){const I=n.useRef(null),h="horizontal"===b,{xAxisPosition:v,yAxisPosition:Z}=x.getAxesPosition(w,h,X),{resolvedVars:re,cssContent:ae}=i.useCssVars(oe),{textMeasureContent:ne,getTextDimensions:se}=o.useTextDimensions();let le=x.getAvailSpace(e,r);const de=x.getScrollBarSpace(le,W,v);let ce=de.scrollDims;le=de.availSpace;const xe=new Set(y),{xProps:ue,xScale:pe,xViewportExtent:ge,xAxisExtent:Ie,xIndexExtent:he,yViewportExtent:fe,yAxisExtent:Se,groupWidth:me,yProps:ve,yScale:Ce,yMaxDim:ye,yMajorTicks:Ae,yMinorTicks:be,plotAreaSpace:De}=x.getLayoutInfo(N,E,V,D,w,le,xe,A,h,X,G,re.labelFontSize,$,se);ce=x.updateScrollBarSpace(ce,"bottom"===v,ye);const we=J(he.startIndex,he.endIndex),Pe=_(he.startIndex,he.endIndex),Ne=ue.tickLabels.map((({index:e})=>e+he.startIndex)),{getNextNavGroup:Ee,getDefaultNavGroup:Ge}=function(e,t,o,i,r){const a=o=>{const r=e[t[o]].drilling;return("on"===i||"groupsOnly"===i)&&"off"!=r},n=e=>o.startIndex>t[e.groupIndex]?(e.groupIndex=0,e):o.endIndex<t[e.groupIndex]?(e.groupIndex=t.length-1,e):void 0;return{getDefaultNavGroup:n,getNextNavGroup:(e,o)=>{let i=n(e);return i||(i="ArrowRight"===o?r?m(e,a):S(e,t.length,a):r?S(e,t.length,a):m(e,a),i||e)}}}(E,Ne,he,T,X),{activeId:Ve,focusedItemInfo:je,hoveredItemInfo:Te,focusedGroupInfo:Me,navProps:Re}=u.useChartNav({rootRef:I,getNextChartItem:Pe,getNextNavGroup:Ee,getDefaultNavGroup:Ge,onItemInput:H,drilling:T,xIndexExtent:he}),ke=g.useSelectDrill({selectionMode:j,selection:C,onChange:R,rootRef:I,drilling:T,onItemDrill:L,onGroupDrill:U,focusedGroupInfo:Me,focusedItemInfo:je,groups:E,getDataItem:V}),ze=c.useChartViewport({width:e,height:r,xViewportExtent:ge,yViewportExtent:fe,xAxisExtent:Ie,yAxisExtent:Se,xScale:pe,yScale:Ce,plotAreaSpace:De,isRtl:X,isHoriz:h,zoomAndScroll:W,onViewportChange:F}),Fe=Q(pe,Ce,me,we),Be=q(pe,Ce,me,we),{datatipContent:Le,dataCursorContent:Ue,datatipProps:He}=g.useChartDatatipAndCursor({series:N,groups:E,width:e,height:r,findNearest:Fe,plotAreaSpace:De,onDataCursorPositionChange:B,isDataCursorEnabled:k,dataCursorPosition:M,dataCursorStyle:z,hoveredItemInfo:Te,focusedItemInfo:je,getDataItem:V,getDataItemPos:Be,datatip:O,valueFormats:K,isHoriz:h,xScale:pe,yScale:Ce}),Oe=p.mergeProps(Re,ke,ze,He),We=l.useId(),{viewportMin:$e,viewportMax:_e}=ge,{startIndex:qe,endIndex:Je}=he,Ke=t.jsx(s.Gridlines,{plotArea:P,yMinorTicks:be,xScale:pe,yScale:Ce,isLog:"log"===w?.scale,xViewportMin:$e,xViewportMax:_e,yTicks:Ae,yAxisPosition:Z});return t.jsxs("div",{tabIndex:0,ref:I,"aria-activedescendant":Ve,"aria-label":te["aria-label"],"aria-labelledby":te["aria-labelledby"],"aria-describedby":te["aria-describedby"],style:{width:e,height:r},role:"application",className:a.styles.outline,...ie,...Oe,children:[t.jsxs("svg",{width:"100%",height:"100%",children:[t.jsx("clipPath",{id:`${We}`,children:t.jsx("rect",{...De})}),t.jsx(s.PlotArea,{color:P?.color,yScale:Ce,isLog:"log"===w?.scale,availSpace:De,xAxisPosition:v}),!ee&&Ke,t.jsx(d.Axis,{...ve,axisPosition:Z}),t.jsx(d.Axis,{...ue,axisPosition:v,isTextInteractive:e=>{if(null!=D?.timeAxisType)return!1;const t=E[e].drilling;return"on"===t||"off"!=t&&("on"===T||"groupsOnly"===T)},activeId:Ve,focusedGroupIndex:Me.isFocusVisible?Me.groupIndex:void 0}),t.jsxs("g",{"clip-path":`url(#${We})`,children:[Y({xStartIndex:qe,xEndIndex:Je,xScale:pe,yScale:Ce,gapRatio:we,activeId:Ve,focusedItemInfo:je,hoveredItemInfo:Te,groupWidth:me}),ee&&Ke,Ue]}),"live"===W&&t.jsx(f.ScrollBar,{availSpace:ce,viewport:ge,axisExtent:Ie,isHoriz:"bottom"===v})]}),ne,ae,Le]})}})}}));
//# sourceMappingURL=Chart-ce53bed1.js.map

define(['exports', 'preact/hooks', './LegendUtils-1bbd7e16', './eventsUtils-0fae65ca', './accUtils-3fffc1bb'], (function(e,s,i,n,r){"use strict";function t(e,s){return e?.groupIndex===s?.groupIndex&&e?.isCurrent===s?.isCurrent&&e?.isFocusVisible===s?.isFocusVisible}function o(e,s){return e?.seriesIndex===s?.seriesIndex&&t(e,s)}e.useChartNav=function({rootRef:e,getNextChartItem:r,getDefaultNavGroup:u,getNextNavGroup:c,xIndexExtent:d,onItemInput:I,drilling:l}){const[a,x]=s.useState({groupIndex:d.startIndex,seriesIndex:0}),b="on"===l||"groupsOnly"===l,[f,C]=s.useState(),[p,g]=s.useState({groupIndex:0}),v=s.useRef(),F=s.useRef(),V=a.isCurrent,h=p.isCurrent,k=e=>{t(e,p)||g(e)},m=e=>{if(!o(e,F.current)){const s={groupIndex:e?.groupIndex,seriesIndex:e?.seriesIndex};I?.(s),F.current=e}},w=e=>{var s,i;o(e,a)||(x(e),f&&(s=f,i=e,s?.seriesIndex!==i?.seriesIndex||i?.groupIndex!==s?.groupIndex)&&C({...f,isCurrent:!1}),e.isCurrent&&m(e))},E=e=>{f&&o(e,f)||(C(e),x({...a,isCurrent:!1}),m(e))},y=e=>{const s=u(p),r=Math.max(d.startIndex,Math.min(d.endIndex,a.groupIndex));e.shiftKey?V?(w({...a,groupIndex:r,isCurrent:!1,isFocusVisible:!1}),m(void 0)):h?(w({...a,groupIndex:r,isCurrent:!0,isFocusVisible:!0}),b&&(k({...p,...s,isCurrent:!1,isFocusVisible:!1}),n.cancelEvent(e))):b&&k({...p,...s,isCurrent:!0,isFocusVisible:!0}):V?(w({...a,groupIndex:r,isCurrent:!1,isFocusVisible:!1}),b&&(k({...p,...s,isCurrent:!0,isFocusVisible:!0}),n.cancelEvent(e)),m(void 0)):h&&b?k({...p,...s,isCurrent:!1,isFocusVisible:!1}):w({...a,groupIndex:r,isCurrent:!0,isFocusVisible:!0}),v.current=i.getRandomId()};return{focusedItemInfo:a,focusedGroupInfo:p,hoveredItemInfo:f,activeId:v.current,navProps:{onKeyDown:e=>{const s=e.key;switch(s){case"Tab":y(e);break;case"ArrowRight":if(h){const e=c(p,s);k({...e,isCurrent:!0,isFocusVisible:!0})}else{const e=r(a,s);w({...e,isCurrent:!0,isFocusVisible:!0})}C(void 0),n.cancelEvent(e);break;case"ArrowLeft":if(h){const e=c(p,s);k({...e,isCurrent:!0,isFocusVisible:!0})}else{const e=r(a,s);w({...e,isCurrent:!0,isFocusVisible:!0})}C(void 0),n.cancelEvent(e);break;case"ArrowUp":if(V){const e=r(a,s);w({...e,isCurrent:!0,isFocusVisible:!0})}C(void 0),n.cancelEvent(e);break;case"ArrowDown":if(V){const e=r(a,s);w({...e,isCurrent:!0,isFocusVisible:!0})}C(void 0),n.cancelEvent(e)}},onKeyUp:e=>{if("Tab"===e.key)V||h||y(e)},onPointerUp:s=>{const i=n.getInfo(e,s);if(!i)return;const{seriesIndex:r,groupIndex:t}=i;null!=r&&null!=t?(w({seriesIndex:r,groupIndex:t,isCurrent:!1,isFocusVisible:!1}),k({...p,isCurrent:!1,isFocusVisible:!1})):void 0!==t&&void 0===r&&(k({groupIndex:t,isCurrent:!0,isFocusVisible:!1}),w({...a,isCurrent:!1,isFocusVisible:!1}))},onPointerMove:s=>{const i=n.getInfo(e,s);if(!i)return void E(void 0);const{seriesIndex:r,groupIndex:t}=i;null!=r&&(E({seriesIndex:r,groupIndex:t,isCurrent:!0}),w({...a,isCurrent:!1}))},onBlur:()=>{w({...a,isCurrent:!1,isFocusVisible:!1})}}}}}));
//# sourceMappingURL=useChartNav-597e208b.js.map

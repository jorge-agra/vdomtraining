define(['exports', 'preact/jsx-runtime', 'preact/compat', './WindowOverlay-d9c7307d', './useTestId-af48c25c', './useAnimation-71f423d8', 'preact/hooks', './UNSAFE_Dialog/themes/redwood/DialogTheme', './FocusTrap-bc72d6c0', './Layer-f22bc6df', './TopLayerHost-06d05670', './Modal-098f562a', './classNames-2e65b3b3', './ImageVars.css-06029f00', './useComponentTheme-f77b756d', './useId-bea76214', './mergeInterpolations-8339fdb7', './_curry3-9f1efdbd', './_curry1-a5ea38c3', './_curry2-919f598e', './_isObject-e5ac15f2', './vanilla-extract-dynamic.esm-8f33fc39', './UNSAFE_WindowOverlay/themes/WindowOverlayStyles.css', 'css!./WindowOverlayStyles.styles.css', './UNSAFE_WindowOverlay/themes/WindowOverlayContract.css', './useUser-e0989b0b', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayTheme', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayBaseTheme.css', 'module', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayVariants.css', './vanilla-extract-recipes-createRuntimeFn.esm-103a441d', './UNSAFE_Dialog/themes/DialogStyles.css', 'css!./DialogStyles.styles.css', './UNSAFE_Dialog/themes/redwood/DialogBaseTheme.css', 'css!./ImageVars.styles.css', 'module', './UNSAFE_Dialog/themes/redwood/DialogVariants.css', './tabbableUtils-b4353985', './head-2669913d', './_arity-57b80ac2', './_isArray-c27f325f', './_isString-2c7b8515', './FocusTracker-6c447746', 'preact', './PRIVATE_FocusTracker/themes/FocusTrackerStyles.css', 'css!./FocusTrackerStyles.styles.css', './useThemeInterpolations-04c9a737', './useColorScheme-fd9da662', './useScale-57db0ae7', './theme-e50f9baa', './Theme-a05c79ae', './Common/themes/redwood/theme', './Common/themes/themeContract.css', './UNSAFE_Modal/themes/ModalStyles.css', 'css!./ModalStyles.styles.css', './logger-e130a3d8'], (function(e,s,a,o,t,l,r,d,n,i,c,m,y,h,u,f,g,b,p,S,w,T,v,F,O,_,N,D,A,x,E,j,I,W,U,C,B,R,M,k,L,V,K,X,Y,H,P,q,z,G,J,Q,Z,$,ee,se){"use strict";const ae=({header:e,id:a})=>{const{styles:o}=u.useComponentTheme(d.DialogRedwoodTheme),t="string"==typeof e?s.jsx("h1",{id:a,className:o.dialogTitleStyle,children:e}):e;return s.jsx("div",{className:o.dialogHeaderStyle,children:t})},oe=a.forwardRef((({children:e,header:a,footer:o,labelId:l,role:r,ariaLabelledBy:n,ariaDescribedBy:i,onKeyDown:c,testId:m},f)=>{const{classes:g,styles:b}=u.useComponentTheme(d.DialogRedwoodTheme),p=t.useTestId(m);return s.jsx("div",{ref:f,className:y.classNames([g,h.globalImages]),style:{opacity:0},onKeyDown:c,role:r,"aria-labelledby":n,"aria-describedby":i,...p,children:s.jsxs("div",{className:b.dialogContainerStyle,children:[s.jsx(ae,{id:l,header:a}),s.jsx("div",{className:b.dialogContentStyle,children:s.jsx("div",{className:b.dialogBodyStyle,children:e})}),s.jsx("div",{className:b.dialogFooterStyle,children:o})]})})})),te={opening:{from:{scaleX:0,scaleY:0,transformOrigin:"center",opacity:0},to:{scaleX:1,scaleY:1,opacity:1},options:{duration:200}},closing:{from:{scaleX:1,scaleY:1,transformOrigin:"center",opacity:1},to:{scaleX:0,scaleY:0,opacity:0},options:{duration:200}}};e.Dialog=({autoFocusRef:e,children:a,isOpen:t,header:d="",footer:c,modality:y="modal",placement:h="center",offset:u=0,onClose:g,onTransitionEnd:b,role:p="dialog","aria-labelledby":S,"aria-describedby":w,testId:T})=>{const[v,F]=r.useState(t?"opening":"unmounted"),O=f.useId(),_=S||O;r.useEffect((()=>{("unmounted"!==v||t)&&F(t?"opening":"closing")}),[t,v]);const{nodeRef:N}=l.useAnimation(v,{animationStates:te,isAnimatedOnMount:!0,onAnimationEnd:({animationState:e})=>{"closing"===e?(F("unmounted"),b?.(!1)):b?.(!0)}}),D=e=>{if("Escape"===e.code)g?.({reason:"escapeKey"})},A=()=>s.jsx(o.WindowOverlay,{placement:h,offset:u,children:s.jsx(n.FocusTrap,{autoFocusRef:e,children:s.jsx(oe,{ref:N,labelId:_,header:d,footer:c,role:p,ariaLabelledBy:_,ariaDescribedBy:w,onKeyDown:D,testId:T,children:a})})});return"modal"===y?s.jsx(m.Modal,{isOpen:"unmounted"!==v,children:A()}):"unmounted"!==v?s.jsx(i.Layer,{children:A()}):null},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_Dialog.js.map

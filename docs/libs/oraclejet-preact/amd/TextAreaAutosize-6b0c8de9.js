define(['exports', 'preact/jsx-runtime', 'preact', 'preact/compat', './FormContext-40a413b7', './useFormContext-75933456', './FormFieldContext-30dbfa2d', 'preact/hooks', './useFocusableTextField-b94c18d5', './Label-019984fa', './ReadonlyTextFieldInput-867d7b15', './StyledTextField-633ae6df', './TextField-0d2ecf37', './TextFieldInput-eed1a5a8', './MaxLengthLiveRegion-3191da7f', './useTextField-e4bae9af', './logger-e130a3d8', './TabbableModeContext-8858ed6b', './useTranslationBundle-d999fb18', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-5b95b4fc', './CompactUserAssistance-baeabd37', './Floating-d924078b', './TopLayerHost-06d05670', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', 'css!./IconStyle.styles.css', './Popup-d06c889e', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-f6432f98', 'css!./HiddenAccessibleStyles.styles.css', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './useLengthFilter-1a1a234a', './useCurrentValueReducer-3bd28be9', './MaxLengthCounter-35625dd4'], (function(e,s,t,a,n,o,i,l,r,d,u,c,p,m,x,h,b,g,f,F,y,v,R,L,A,T,C,S,w,E,U,I,j,P,D,H,k,B,M,V,_){"use strict";const N=({isReadonly:e,enabledElementRef:s,readonlyElementRef:t,minRows:a=2,maxRows:n,value:o})=>{l.useLayoutEffect((()=>{const o=e?t:s;if(null===o.current)return;if(o.current instanceof HTMLDivElement)return;const i=o.current,l=(e=>{const s=window.getComputedStyle(e),t=s.lineHeight;if("normal"===t)return 1.2*parseFloat(s.fontSize);return parseFloat(t)})(i);i.style.height="0";const{paddingHeight:r,borderHeight:d}=(e=>{const s=window.getComputedStyle(e);return{paddingHeight:parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),borderHeight:parseFloat(s.borderTop)+parseFloat(s.borderBottom)}})(i),u=l*a+r+d,c=i.scrollHeight+d;let p=0;if(void 0===n)p=c<u?u:c;else if(n>a){const e=l*n+r+d;p=c>e?e:c<u?u:c}else p=u;i.style.height=p+.5+"px"}),[o,a,n,e,s,t])},q=a.forwardRef((({"aria-describedby":e,assistiveText:n,autoComplete:l="off",autoFocus:b=!1,columnSpan:g,helpSourceLink:F,helpSourceText:y,isDisabled:v,isReadonly:A,isRequired:T=!1,isRequiredShown:C,label:S,labelEdge:w,labelStartWidth:E,maxLength:U,maxLengthCounter:I="remaining",maxLengthUnit:j,maxRows:P,messages:D,minRows:H=2,placeholder:k,role:B,textAlign:q,userAssistanceDensity:W,value:z,variant:G="default",onInput:J,onCommit:K,testId:O},Q)=>{const X=f.useTranslationBundle("@oracle/oraclejet-preact"),Y=U?X.formControl_limitReached({CHARACTER_LIMIT:U}):"",{currentCommitValue:Z,dispatch:$}=V.useCurrentValueReducer({value:z}),ee=a.useCallback((e=>{$({type:"input",payload:e.value}),J?.(e)}),[J,$]),se=a.useCallback((e=>{$({type:"commit",payload:e.value}),K?.(e)}),[K,$]),{isDisabled:te,isReadonly:ae,labelEdge:ne,labelStartWidth:oe,textAlign:ie,userAssistanceDensity:le}=o.useFormContext(),re=v??te,de=A??ae,ue=w??ne,ce=E??oe,pe=q??ie,me=W??le,{enabledElementRef:xe,readonlyElementRef:he,focusProps:be,isFocused:ge}=r.useFocusableTextField({isDisabled:re,isReadonly:de,ref:Q}),{isMaxLengthExceeded:fe,isMaxLengthReached:Fe,valueLength:ye,onFilteredInput:ve}=M.useLengthFilter({maxLength:U,maxLengthUnit:j,value:z,onInput:ee,onCommit:se}),Re=[...D??[],...Fe?[{detail:Y,severity:"info"}]:[]],{formFieldContext:Le,inputProps:Ae,labelProps:Te,textFieldProps:Ce,userAssistanceProps:Se}=h.useTextField({ariaDescribedBy:e,contentVariant:"textarea",helpSourceLink:F,helpSourceText:y,isDisabled:re,isFocused:ge,isReadonly:de,isRequiredShown:C,labelEdge:ue,messages:Re,styleVariant:G,userAssistanceDensity:me,value:z}),we=a.useCallback((()=>{const e=xe.current,s=e?e.value.length:null;xe.current?.setSelectionRange(s,s),xe.current?.focus()}),[xe]),Ee="none"!==ue?s.jsx(d.Label,{...Te,children:S}):void 0,Ue={label:"none"!==ue?Ee:void 0,labelEdge:"none"!==ue?ue:void 0,labelStartWidth:"none"!==ue?ce:void 0},Ie="none"===ue?S:void 0,je="efficient"===me||"reflow"===me?re||de?"efficient"!==me?void 0:s.jsx(R.InlineUserAssistance,{userAssistanceDensity:me,...Se}):s.jsx(R.InlineUserAssistance,{assistiveText:n,fieldLabel:S,helpSourceLink:F,helpSourceText:y,messages:Re,isRequiredShown:C,userAssistanceDensity:me,...Se}):void 0,Pe=a.useRef(null),De="compact"===me?s.jsx(L.CompactUserAssistance,{anchorRef:Pe,messages:Re,assistiveText:n,...Se}):void 0;if(N({isReadonly:de,enabledElementRef:xe,readonlyElementRef:he,minRows:H,maxRows:P,value:z}),de)return s.jsx(i.FormFieldContext.Provider,{value:Le,children:s.jsx(c.ReadonlyTextField,{role:"presentation",colSpan:g,compactUserAssistance:De,inlineUserAssistance:je,variant:"textarea",ref:Pe,testId:O,...Ue,children:s.jsx(u.ReadonlyTextFieldInput,{"aria-describedby":Ae["aria-describedby"],"aria-label":Ie,"aria-labelledby":Te.id,elementRef:he,...P?{as:"textarea",rows:H}:{as:"div"},autoFocus:b,textAlign:pe,value:z,variant:"textarea",hasEmptyLabel:""===S&&"none"===ue,hasInsideLabel:void 0!==S&&"inside"===ue})})});const He=s.jsxs(t.Fragment,{children:[s.jsx(m.TextFieldInput,{as:"textarea","aria-label":Ie,autoComplete:l,autoFocus:b,currentCommitValue:Z,hasEmptyLabel:""===S&&"none"===ue,hasInsideLabel:void 0!==Ee&&"inside"===ue,isRequired:T,inputRef:xe,onCommit:se,onInput:ve,placeholder:k,role:B,rows:H,textAlign:pe,value:z,...Ae}),"remaining"===I&&void 0!==U&&s.jsx(_.MaxLengthCounter,{maxLength:U,valueLength:ye,parentHasFocus:ge,onClick:we}),void 0!==U&&s.jsx(x.MaxLengthLiveRegion,{isMaxLengthExceeded:fe,maxLength:U,valueLength:ye})]});return s.jsx(i.FormFieldContext.Provider,{value:Le,children:s.jsx(p.TextField,{mainContent:He,columnSpan:g,compactUserAssistance:De,inlineUserAssistance:je,onBlur:be?.onfocusout,onFocus:be?.onfocusin,mainFieldRef:Pe,testId:O,...Ce,...Ue})})}));e.TextAreaAutosize=q}));
//# sourceMappingURL=TextAreaAutosize-6b0c8de9.js.map

define(['exports', 'preact/jsx-runtime', 'preact/hooks', 'preact/compat', './mergeProps-7d608009', './collectionUtils-e7261bcb', './useCollectionFocusRing-d3bea583', './useCurrentKey-7c221c70', './useId-bea76214', './UNSAFE_TabBarMixed/themes/TabBarMixedStyles.css', './useTabBarContext-0c9f1b68'], (function(e,t,r,o,n,s,c,u,a,i,l){"use strict";const d='[role="tab"]';const b=(e,t,r)=>{const o=e.closest(t),n=e.closest(r);return o?.contains(n)?null:s.keyExtractor(e,t)},f=(e,t,r)=>{const o=r.indexOf(e);if(o>0){const e=r[o===r.length-1?o-1:o+1];if(-1!==t.indexOf(e))return e}return t[0]},y=o.forwardRef(((e,y)=>{const{children:m,onRemove:x,onSelect:v,selection:p,size:g}=e,R=r.useRef(null),{rootProps:h,tabBarContext:B}=function(e){const{children:t,class:o,display:i,edge:l="top",selection:y,onSelect:m,onRemove:x,ref:v=r.useRef(null),size:p}=e,g=a.useId(),[R,h]=r.useState(y),B=g+"_",K=r.useRef();r.useEffect((()=>{if(v.current){const e=Array.from(v.current.querySelectorAll(d)).map((e=>s.getKey(e)));R&&!e.includes(R)&&K.current&&h(f(R,e,K.current)),K.current=e}}),[t,R]);const[P,C]=c.useCollectionFocusRing(v,["ArrowRight","ArrowLeft"]),{currentKeyProps:S}=u.useCurrentKey((e=>x?b(e,d,"[data-oj-tabbar-item-remove-icon]"):s.keyExtractor(e,d)),!1,void 0,void 0,s.getPrevNextKey(v.current,R,!0,d),s.getPrevNextKey(v.current,R,!1,d),R,(e=>h(e.value))),E={onKeyDown:e=>{R&&"Enter"===e.key&&m?.({value:R}),R&&"Delete"===e.key&&x?.({value:R})},onFocus:()=>{if(v.current&&void 0===R){const e=s.getFirstVisibleKey(v.current,d);e&&h(e)}}};return{rootProps:n.mergeProps({"aria-activedescendant":R?B+R:"","aria-multiselectable":!1,class:o,ref:v,role:"tablist",tabIndex:0},S,C,E),tabBarContext:{currentKey:R,display:i,isEdgeBottom:"bottom"===l,layout:"condense",onRemove:x,onSelect:m,showFocusRing:P,selection:y,size:p,tabItemPrefix:B}}}({class:i.styles.tabBarBase,edge:"bottom",onRemove:x,onSelect:v,ref:R,selection:p,size:g,children:m});return o.useImperativeHandle(y,(()=>({focus:()=>{R.current&&R.current.focus()},blur:()=>{R.current&&R.current.blur()}}))),t.jsx(l.TabBarContext.Provider,{value:B,children:t.jsx("div",{...h,children:m})})}));e.TabBarMixed=y}));
//# sourceMappingURL=TabBarMixed-2617d881.js.map

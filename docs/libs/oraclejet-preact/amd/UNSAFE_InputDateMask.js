define(['exports', 'preact/jsx-runtime', 'preact/compat', 'preact/hooks', './logger-e130a3d8', './TabbableModeContext-8858ed6b', './useTranslationBundle-d999fb18', 'css!./UserAssistanceStyles.styles.css', 'module', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceVariants.css', './InlineUserAssistance-5b95b4fc', './CompactUserAssistance-baeabd37', './Floating-d924078b', './TopLayerHost-06d05670', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', 'preact', 'css!./IconStyle.styles.css', './Popup-d06c889e', 'css!./LabelStyles.styles.css', 'module', './UNSAFE_Label/themes/redwood/LabelVariants.css', './InputGroupContext-f6432f98', 'css!./HiddenAccessibleStyles.styles.css', 'module', './UNSAFE_Popup/themes/redwood/PopupVariants.css', './classNames-2e65b3b3', './keyboardUtils-65be6ac4', './getFormatParse-97bbbd74', './maskUtils-c5a34383', './UNSAFE_InputDateMask/themes/SegmentStyles.css', './useUser-e0989b0b', './Flex-d0cc2f6e', './HiddenAccessible-b4126946', './LiveRegion-3f0fae4e', './stringUtils-fd898858', './useComponentTheme-f77b756d', './calendarDateUtils-1e89df8e', './useTabbableMode-913efe07', './FormFieldContext-30dbfa2d', './useFormFieldContext-24009ca1', './UNSAFE_TextField/themes/redwood/TextFieldInputTheme', './Label-019984fa', './ReadonlyTextFieldInput-867d7b15', './StyledTextField-633ae6df', './TextField-0d2ecf37', './TextFieldInput-eed1a5a8', 'css!./LiveRegionStyles.styles.css', './useFocusableTextField-b94c18d5', './FormContext-40a413b7', './useFormContext-75933456', './useTextField-e4bae9af', './vanilla-extract-recipes-createRuntimeFn.esm-103a441d', 'css!./MessageBannerStyles.styles.css', 'module', './UNSAFE_MessageBanner/themes/redwood/MessageBannerVariants.css', 'css!./MessageBannerVariants.styles.css', './IconButton-671dbb94', './BaseButton-0ad3564a', './usePress-80afb622', './useHover-c613069f', './useToggle-4d231fba', './useActive-dfb7e815', './useColorScheme-fd9da662', './dimensions-ee4bfe23', './size-a13c8931', './utils-8a58b095', './Common/themes/themeContract.css', './colorUtils-709e88cf', './_curry1-a5ea38c3', './mergeInterpolations-8339fdb7', './_curry3-9f1efdbd', './_curry2-919f598e', './_isObject-e5ac15f2', './clientHints-aa2ccdd3', './mergeProps-7d608009', './UNSAFE_BaseButton/themes/BaseButtonStyles.css', 'css!./BaseButtonStyles.styles.css', './useTestId-af48c25c', './ButtonLayout-64cb114c', './Text-7cbb9b7a', './UNSAFE_Text/themes/TextStyles.css', 'css!./TextStyles.styles.css', './UNSAFE_ButtonLayout/themes/redwood/ButtonLayoutTheme', './UNSAFE_ButtonLayout/themes/ButtonLayoutStyles.css', 'css!./ButtonLayoutStyles.styles.css', './UNSAFE_ButtonLayout/themes/redwood/ButtonLayoutBaseTheme.css', 'module', './UNSAFE_ButtonLayout/themes/redwood/ButtonLayoutVariants.css', 'css!./ButtonLayoutVariants.styles.css', './useTooltip-648a4c14', './useTooltipControlled-e99753ae', './useId-bea76214', './Layer-f22bc6df', './useThemeInterpolations-04c9a737', './useScale-57db0ae7', './theme-e50f9baa', './Theme-a05c79ae', './useFocus-9d062824', './useTouch-850c91e2', './useAnimation-71f423d8', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentTheme', './hooks/UNSAFE_useTooltip/themes/TooltipContentStyles.css', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentBaseTheme.css', 'css!./TooltipContentVariants.styles.css', './EnvironmentProvider-14a25d3a', './LayerManager-ae159a94', 'css!./MessageStyles.styles.css', './MessageFormattingUtils-98877aa8', './getLocale-61827336', './Message.types-f1704955', './TransitionGroup-b7a438aa', './MessagesContext-7704d1bd', 'css!./ComponentMessageStyles.styles.css', 'module', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageVariants.css', './ComponentMessageContainer-a45c7df5', './MessagesManager-8e4d9a1b', './useMessagesContext-f7ae2abb', './Transition-940ceb61', './ComponentMessage-69f98ab9', './MessageStartIcon-e086a6c7', './SuccessS-869d229b', './Icon-1c51c520', './UNSAFE_Icon/themes/IconStyle.css', './ErrorS-c6d54ba8', './InformationS-9617ab47', './WarningS-3221de6c', './PRIVATE_Message/themes/MessageStyles.css', './MessageSummary-15ee87fc', './MessageUtils-410832f3', './soundUtils-07d963c0', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageTheme', './UNSAFE_ComponentMessage/themes/ComponentMessageStyles.css', './UNSAFE_ComponentMessage/themes/redwood/ComponentMessageBaseTheme.css', './InlineHelp-92a0db0e', './InlineHelpSource-327ffc1e', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceTheme', './UNSAFE_UserAssistance/themes/UserAssistanceStyles.css', './UNSAFE_UserAssistance/themes/redwood/UserAssistanceBaseTheme.css', './useInputGroupContext-42ac66b4', './Separator-adff45dc', './UNSAFE_Separator/themes/SeparatorStyles.css', 'css!./SeparatorStyles.styles.css', './CompactHelpSource-c33f674c', './Help-f3927506', './useFocusWithin-6de34a65', './UNSAFE_Label/themes/redwood/LabelTheme', './UNSAFE_Label/themes/LabelStyles.css', './UNSAFE_Label/themes/redwood/LabelBaseTheme.css', './useFloating-907f899d', './positionUtils-332efab6', './refUtils-9ddc9039', './useOutsideClick-6689a91c', './arrayUtils-3a8f9f2d', './UNSAFE_Floating/themes/redwood/FloatingTheme', './UNSAFE_Floating/themes/FloatingStyles.css', 'css!./FloatingStyles.styles.css', './UNSAFE_Floating/themes/redwood/FloatingBaseTheme.css', 'module', './UNSAFE_Floating/themes/redwood/FloatingVariants.css', './vanilla-extract-dynamic.esm-8f33fc39', './UNSAFE_Floating/themes/FloatingContract.css', './Common/themes/redwood/theme', './tabbableUtils-b4353985', './head-2669913d', './_arity-57b80ac2', './_isArray-c27f325f', './_isString-2c7b8515', './FocusTrap-bc72d6c0', './FocusTracker-6c447746', './PRIVATE_FocusTracker/themes/FocusTrackerStyles.css', 'css!./FocusTrackerStyles.styles.css', './Modal-098f562a', './UNSAFE_Modal/themes/ModalStyles.css', 'css!./ModalStyles.styles.css', './useAnimationStatus-05ff49db', './UNSAFE_Popup/themes/PopupContract.css', './UNSAFE_Popup/themes/redwood/PopupTheme', './UNSAFE_Popup/themes/redwood/PopupBaseTheme.css', 'css!./PopupStyles.styles.css', './types-c5d182e2', 'css!./SegmentStyles.styles.css', './boxalignment-7ec45526', 'css!./boxalignment.styles.css', './vanilla-extract-sprinkles-createRuntimeSprinkles.esm-f6bbe8f1', './flexbox-7c9a1acb', 'css!./flexbox.styles.css', './flexitem-c1ba5934', 'css!./flexitem.styles.css', 'css!./FlexStyles.styles.css', './UNSAFE_TextField/themes/TextFieldInputStyles.css', 'css!./TextFieldInputStyles.styles.css', './UNSAFE_TextField/themes/redwood/TextFieldInputVariants.css', 'css!./TextFieldInputVariants.styles.css', './CompactLabelAssistance-c8d6399f', './UNSAFE_TextField/themes/redwood/TextFieldTheme', './UNSAFE_TextField/themes/TextFieldStyles.css', 'css!./SkeletonStyles.styles.css', 'css!./TextFieldLoadingStyles.styles.css', 'css!./TextFieldStyles.styles.css', './UNSAFE_TextField/themes/redwood/TextFieldBaseTheme.css', 'module', './UNSAFE_TextField/themes/redwood/TextFieldVariants.css', 'css!./TextFieldVariants.styles.css', './useAccessibleContext-7d4ee044', './textAlign-28c50375', 'css!./text.styles.css', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldInputTheme', './UNSAFE_TextField/themes/ReadonlyTextFieldInputStyles.css', 'css!./ReadonlyTextFieldInputStyles.styles.css', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldInputVariants.css', './LabelValueLayout-4e9258be', 'css!./LabelValueLayoutStyles.styles.css', './UNSAFE_RadioItem/themes/redwood/RadioTheme', './UNSAFE_RadioItem/themes/RadioStyles.css', 'css!./RadioStyles.styles.css', './UNSAFE_RadioItem/themes/redwood/RadioBaseTheme.css', 'module', './UNSAFE_RadioItem/themes/redwood/RadioVariants.css', './UNSAFE_TextField/themes/redwood/FormLayoutTheme', './UNSAFE_TextField/themes/FormLayoutStyles.css', './UNSAFE_TextField/themes/redwood/FormLayoutBaseTheme.css', 'module', './UNSAFE_Checkbox/themes/redwood/CheckboxTheme', './UNSAFE_Checkbox/themes/CheckboxStyles.css', 'css!./CheckboxStyles.styles.css', './UNSAFE_Checkbox/themes/redwood/CheckboxBaseTheme.css', 'module', './UNSAFE_Checkbox/themes/redwood/CheckboxVariants.css', 'css!./CheckboxVariants.styles.css', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldTheme', './UNSAFE_TextField/themes/ReadonlyTextFieldStyles.css', 'css!./ReadonlyTextFieldStyles.styles.css', './UNSAFE_TextField/themes/redwood/ReadonlyTextFieldVariants.css', 'css!./ReadonlyTextFieldVariants.styles.css', './LayoutStyles.css-295a1d49', 'css!./LayoutStyles.styles.css', './UNSAFE_Skeleton/themes/redwood/SkeletonTheme', './UNSAFE_Skeleton/themes/SkeletonStyles.css', './UNSAFE_Skeleton/themes/redwood/SkeletonBaseTheme.css', 'module', './UNSAFE_Skeleton/themes/redwood/SkeletonVariants.css', './useTextFieldInputHandlers-990da838', './TextFieldUtils-756daaf4', './useMessageSeverity-6b4548ce', './useFormFieldContextProps-e0ab321c'], (function(e,t,s,a,o,n,r,l,i,d,c,u,m,y,p,h,S,b,F,g,x,f,T,A,v,U,C,_,E,w,N,k,D,I,R,M,B,L,P,V,H,j,O,q,Y,W,z,G,$,K,X,Z,J,Q,ee,te,se,ae,oe,ne,re,le,ie,de,ce,ue,me,ye,pe,he,Se,be,Fe,ge,xe,fe,Te,Ae,ve,Ue,Ce,_e,Ee,we,Ne,ke,De,Ie,Re,Me,Be,Le,Pe,Ve,He,je,Oe,qe,Ye,We,ze,Ge,$e,Ke,Xe,Ze,Je,Qe,et,tt,st,at,ot,nt,rt,lt,it,dt,ct,ut,mt,yt,pt,ht,St,bt,Ft,gt,xt,ft,Tt,At,vt,Ut,Ct,_t,Et,wt,Nt,kt,Dt,It,Rt,Mt,Bt,Lt,Pt,Vt,Ht,jt,Ot,qt,Yt,Wt,zt,Gt,$t,Kt,Xt,Zt,Jt,Qt,es,ts,ss,as,os,ns,rs,ls,is,ds,cs,us,ms,ys,ps,hs,Ss,bs,Fs,gs,xs,fs,Ts,As,vs,Us,Cs,_s,Es,ws,Ns,ks,Ds,Is,Rs,Ms,Bs,Ls,Ps,Vs,Hs,js,Os,qs,Ys,Ws,zs,Gs,$s,Ks,Xs,Zs,Js,Qs,ea,ta,sa,aa,oa,na,ra,la,ia,da,ca,ua,ma,ya,pa,ha,Sa,ba,Fa,ga,xa,fa,Ta,Aa,va,Ua,Ca,_a,Ea,wa,Na,ka){"use strict";const Da=({"aria-label":e,"aria-valuemax":s,"aria-valuemin":o,"aria-valuenow":n,"aria-valuetext":l,isComplete:i,isDisabled:d,isHidden:c,isHighlighted:u,isInvalid:m,isRequired:y,isSelected:p,onChange:h,placeholder:S,text:b,type:F})=>{const g=b&&b.length>0,x=_.classNames([k.segmentStyles.base,p&&k.segmentStyles.selected,u&&k.segmentStyles.highlighted]),f=_.classNames([k.segmentStyles.placeholder,c||g?k.segmentStyles.hidden:k.segmentStyles.notHidden]),T=r.useTranslationBundle("@oracle/oraclejet-preact").inputDateMask_empty_segment(),A=a.useRef(!1),v=a.useRef(null),{locale:U}=D.useUser(),C=a.useCallback((e=>{d||u||"Tab"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key||"Enter"===e.key||("0"!==e.key||!i&&void 0!==b?N.isNumberOnlyString(e.key)?(h?.({actionType:"updateSegment",data:{type:F,text:e.key,hasLeadingZero:A.current,locale:U}}),A.current=!1):E.isBackspaceOrDelete(e)?(h?.({actionType:"clearSegment",data:{type:F}}),A.current=!1):"ArrowUp"===e.key?(h?.({actionType:"step",data:{direction:"increase",locale:U,type:F}}),A.current=!1):"ArrowDown"===e.key?(h?.({actionType:"step",data:{direction:"decrease",locale:U,type:F}}),A.current=!1):"PageUp"===e.key?(h?.({actionType:"page",data:{direction:"increase",locale:U,type:F}}),A.current=!1):"PageDown"===e.key?(h?.({actionType:"page",data:{direction:"decrease",locale:U,type:F}}),A.current=!1):"Home"===e.key?(h?.({actionType:"goToHome",data:{locale:U,type:F}}),A.current=!1):"End"===e.key&&(h?.({actionType:"goToEnd",data:{locale:U,type:F}}),A.current=!1):A.current=!0,e.preventDefault(),e.stopPropagation())}),[i,d,u,U,h,b,F]);a.useEffect((()=>{p&&v.current?.focus()}),[p]);const w={"data-segment":[F]},I=void 0===l?T:n?.toString()===l?void 0:l;return t.jsxs("div",{ref:v,role:"spinbutton","aria-disabled":d,"aria-invalid":m||void 0,"aria-label":e,"aria-required":y,"aria-valuemin":o,"aria-valuemax":s,"aria-valuenow":n,"aria-valuetext":I,autocapitalize:"off",autocorrect:"off",class:x,contentEditable:!d&&p,...w,enterkeyhint:d?void 0:"done",inputMode:d?"none":"numeric",onKeyDown:C,spellcheck:!1,tabIndex:p?0:-1,children:[t.jsx("span",{"aria-hidden":"true",class:f,...w,children:S}),b]})},Ia=({isHidden:e,isHighlighted:s,isPlaceholder:a,text:o})=>{const n=_.classNames([k.segmentStyles.literalBase,a&&k.segmentStyles.placeholder,s&&k.segmentStyles.highlighted,e?k.segmentStyles.hidden:k.segmentStyles.notHidden]);return t.jsx("span",{"aria-hidden":"true",class:n,children:o})},Ra=(e,t)=>{if("reset"===t.actionType)return t.data;const s=t.data?.type,a=La(e.segments,s);switch(t.actionType){case"clearDate":{const t=Ja(Ka(e.segments),e.orderedSegments);return no(e,t,!1)}case"clearSegment":{const t=$a(a);return Ga(e,s,t)}case"commit":{const t=ao(e.segments);return no(e,t,!1)}case"goToEnd":{const o=io(s,a,e.segments,t.data?.locale);return Ga(e,s,o,!1)}case"goToHome":{const o=lo(s,a,e.segments,t.data?.locale);return Ga(e,s,o,!1)}case"page":{const o=t.data?.direction,n=t.data?.locale,r=co(s,a,e.segments,"page",o,n);return Ga(e,s,r,!1)}case"selectDateOrSegment":return oo(e);case"selectFirst":{const t=Ja(e.segments,e.orderedSegments);return no(e,t,!1)}case"selectNext":{const t=to(e.segments,e.orderedSegments);return no(e,t,!1)}case"selectPrevious":{const t=so(e.segments,e.orderedSegments);return no(e,t,!1)}case"selectSegment":{const t=Za(e.segments,s);return no(e,t,!1)}case"step":{const o=t.data?.direction,n=t.data?.locale,r=co(s,a,e.segments,"step",o,n);return Ga(e,s,r,!1)}case"updateSegment":{const o=Xa(s,a,t,e.segments);return Ga(e,s,o)}default:throw new Error("Unknown action type")}},Ma=e=>+e,Ba=e=>e.toString(),La=(e,t)=>e.find((e=>e.type===t)),Pa=e=>e.every((e=>e.text&&e.text.length>0)),Va=e=>e.some((e=>void 0!==e["aria-valuenow"])),Ha=e=>{if(!Va(e))return;const t=e.map((e=>({[e.type]:e["aria-valuenow"]}))).values();let s={};for(const e of t)s={...s,...e};return s},ja=e=>La(e,"year")["aria-valuenow"],Oa=(e,t,s)=>`${t} - ${N.getMonthName(e,t,s??"*","long")}`,qa=e=>[...e.orderedSegments],Ya=(e,t,s)=>e.map((e=>e.type===t?s:e)),Wa=(e,t,s,a,o)=>{const n=Ya(e,s,a);let r=n;if("month"===s||"year"===s){const e=La(n,"day");if(e){const t="month"==s?a["aria-valuenow"]:La(n,"month")["aria-valuenow"],o="year"===s?a["aria-valuenow"]:ja(n),l=P.getDaysInMonth(t??"*",o??"*"),i=e["aria-valuenow"],d=i&&i>l?l:i,c=d?Ba(d):void 0,u={...e,"aria-valuemax":l,"aria-valuenow":d,"aria-valuetext":c,text:c};r=Ya(n,"day",u)}}return r=a.isComplete&&o?to(r,t):r,r},za=(e,t)=>({currentDate:Ha(t),isCompleteDate:Pa(t),isDateSelected:e.isDateSelected,isPartialDate:Va(t),orderedSegments:qa(e),segments:t}),Ga=(e,t,s,a=!0)=>{const o=Wa(e.segments,e.orderedSegments,t,s,a);return za(e,o)},$a=e=>({...e,"aria-valuetext":void 0,"aria-valuenow":void 0,text:void 0,isComplete:!1}),Ka=e=>e.map((e=>{const t=$a(e),s="year"===t.type?P.MAX_ISO_YEAR:"month"===t.type?P.getMonthsInYear("*"):P.getDaysInMonth("*","*");return{...t,"aria-valuemax":s}})),Xa=(e,t,s,a)=>{const o=s.data?.text,n=s.data?.hasLeadingZero,r=s.data?.locale,l=t["aria-valuemin"],i=t["aria-valuemax"],d=t.isComplete?o:t.text+o,c=Ma(d),u=(y=i,(m=c)>=l&&m<=y);var m,y;const p=u?d:o,h=u?c:Ma(o),S=((e,t)=>Ma(Ba(e)+"0")>t)(h,i)||!!n&&"year"!==e,b="month"===e?Oa(r,h,ja(a)):p;return{...t,"aria-valuetext":b,"aria-valuenow":h,text:p,isComplete:S}},Za=(e,t)=>e.map((e=>({...e,isSelected:e.type===t}))),Ja=(e,t)=>Za(e,t[0]),Qa=(e,t)=>{const s=e.find((e=>!0===e.isSelected));return void 0===s?-1:t.findIndex((e=>e===s.type))},eo=e=>e.map((e=>e.isSelected?{...e,isComplete:!0}:e)),to=(e,t)=>{const s=Qa(e,t);return s===t.length-1?e:Za(eo(e),t[s+1])},so=(e,t)=>{const s=Qa(e,t);return 0===s?e:-1===s?Ja(e,t):Za(eo(e),t[s-1])},ao=e=>e.map((e=>({...e,isSelected:!1,isComplete:!!e.text}))),oo=e=>{if(e.isCompleteDate)return no(e,e.segments.map((e=>({...e,isSelected:!1}))),!0);{const t=Ja(e.segments,e.orderedSegments);return za(e,t)}},no=(e,t,s)=>({currentDate:Ha(t),isCompleteDate:Pa(t),isDateSelected:s,isPartialDate:Va(t),orderedSegments:qa(e),segments:t}),ro=(e,t,s,a,o)=>{const n=Ba(e);return{...a,"aria-valuetext":"month"===s?Oa(t,e,ja(o)):n,"aria-valuenow":e,text:n,isComplete:!0}},lo=(e,t,s,a)=>{const o=((e,t)=>"year"===e?1900:t["aria-valuemin"])(e,t);return ro(o,a,e,t,s)},io=(e,t,s,a)=>{const o=((e,t)=>"year"===e?2100:t["aria-valuemax"])(e,t);return ro(o,a,e,t,s)},co=(e,t,s,a,o,n)=>{const r=t["aria-valuenow"],l=t["aria-valuemin"],i=t["aria-valuemax"],d=void 0===r?(e=>{const{year:t,month:s,day:a}=N.getTodayAsCalendarDate();return{year:t,month:s,day:a}[e]})(e):"page"===a?((e,t,s,a,o)=>{const n="month"===o?2:"year"===o?5:7;return"increase"===t?e+n>a?(e+n)%a:e+n:e-n<s?e-n+a:e-n})(r,o,l,i,e):((e,t,s,a)=>"increase"===t?e+1>a?s:e+1:e-1<s?a:e-1)(r,o,l,i);return ro(d,n,e,t,s)},uo=(e,t)=>e.find((e=>e.type===t)),mo=({"aria-describedby":e,"aria-invalid":s,"aria-label":o,"aria-labelledby":n,baseId:l,fieldRef:i,granularity:d="day",hasInsideLabel:c,isRequired:u,masks:m,onBlur:y,onCommit:p,onFocus:h,onInput:S,textAlign:b,value:F,variant:g="default"})=>{const x=r.useTranslationBundle("@oracle/oraclejet-preact"),f=x.inputDateMask_date_cleared(),T={month:x.formControl_month(),day:x.formControl_day(),year:x.formControl_year()},{direction:A,locale:v}=D.useUser(),{isDisabled:U,isFocused:C,isInputFocused:w}=j.useFormFieldContext(),k=void 0!==F,{classes:H}=L.useComponentTheme(O.TextFieldInputRedwoodTheme,{type:"notPassword",styleVariant:g,textarea:"notTextArea",input:"notInput",div:"isDiv",prefix:"noPrefix",suffix:"noSuffix",startContent:"noStartContent",endContent:"noEndContent",insideLabel:c?"hasInsideLabel":"noInsideLabel",value:k?"hasValue":"noValue",focused:C?"isFocused":"notFocused",disabled:U?"isDisabled":"notDisabled"}),q=_.classNames([H]),{state:Y,dispatch:W,dateResetRef:z}=(({ariaLabels:e,dateMasks:t,granularity:s,locale:o,value:n})=>{const r=t.filter((({type:e})=>"literal"!==e)).map((({type:e})=>e)),l=n?.year,i=n?.month,d=n?.day,c=P.getMonthsInYear(l??"*"),u=P.getDaysInMonth(i??"*",l??"*"),m=!(!l||!i||"month"!==s&&!d),y=!!l||!!i||!!d,p=l?Ba(l):void 0,h=i?Ba(i):void 0,S=d?Ba(d):void 0,b=i?Oa(o,i,l):void 0,F=[{type:"day","aria-label":e.day,"aria-valuemin":P.MIN_ISO_DAY,"aria-valuemax":u,"aria-valuenow":d,"aria-valuetext":S,isComplete:!!d,isSelected:!1,text:S}],g={currentDate:n,isCompleteDate:m,isDateSelected:!1,isPartialDate:y,orderedSegments:r,segments:[{type:"year","aria-label":e.year,"aria-valuemin":P.MIN_ISO_YEAR,"aria-valuemax":P.MAX_ISO_YEAR,"aria-valuenow":l,"aria-valuetext":p,isComplete:!!l,isSelected:!1,text:p},{type:"month","aria-label":e.month,"aria-valuemin":P.MIN_ISO_MONTH,"aria-valuemax":c,"aria-valuenow":i,"aria-valuetext":b,isComplete:!!i,isSelected:!1,text:h},..."day"===s?F:[]]},[x,f]=a.useReducer(Ra,g),T=a.useRef(n),A=a.useRef(!1);return N.calendarDatesAreDifferent(T.current,n)&&(T.current=n,N.calendarDatesAreDifferent(n,x.currentDate)&&(f({actionType:"reset",data:g}),A.current=!0)),{dateResetRef:A,dispatch:f,state:x}})({ariaLabels:T,dateMasks:m,granularity:d,locale:v,value:F}),{isDateSelected:G,isPartialDate:$,segments:K}=Y,X={year:uo(K,"year"),month:uo(K,"month"),day:"day"===d?uo(K,"day"):void 0},{dateClearedRef:Z,dateFieldHandlers:J,segmentHandlers:Q,tabIndex:ee}=(({dateResetRef:e,direction:t,dispatch:s,isDisabled:o,isFocused:n,isInputFocused:r,onCommit:l,onInput:i,state:d})=>{const{tabbableModeProps:c}=V.useTabbableMode(),{tabIndex:u}=c,m=d.segments.some((e=>!!e.isSelected)),y=-1===u||m||o?-1:0,p=a.useRef(d.currentDate),h=a.useRef(d.currentDate),S=a.useRef(!1),b=a.useRef(!!n),F=a.useCallback((e=>{s(e)}),[s]),g=a.useCallback((e=>{const t=e.target.getAttribute("data-segment");s(t?{actionType:"selectSegment",data:{type:t}}:{actionType:"selectFirst"})}),[s]),x=a.useCallback((e=>{"ltr"===t&&"ArrowLeft"===e.key||"rtl"===t&&"ArrowRight"===e.key?(s({actionType:"selectPrevious"}),e.stopPropagation()):"ltr"===t&&"ArrowRight"===e.key||"rtl"===t&&"ArrowLeft"===e.key?(s({actionType:"selectNext"}),e.stopPropagation()):E.isBackspaceOrDelete(e)?(s({actionType:"clearDate"}),S.current=!0,e.stopPropagation()):"Enter"===e.key&&(N.calendarDatesAreDifferent(h.current,p.current)&&(l?.({value:p.current}),h.current=p.current),e.preventDefault(),e.stopPropagation())}),[t,s,l]);a.useEffect((()=>{b.current&&!n&&(s({actionType:"commit"}),N.calendarDatesAreDifferent(h.current,p.current)&&(l?.({value:p.current}),h.current=p.current)),b.current=!!n}),[s,n,l]),a.useEffect((()=>{if(N.calendarDatesAreDifferent(p.current,d.currentDate)&&!e.current){const e=void 0!==d.currentDate?Object.freeze({...d.currentDate}):d.currentDate;i({value:e}),p.current=e}e.current=!1}),[i,d.currentDate,e]);const f=a.useRef(!1),T=a.useRef();return a.useEffect((()=>{r&&!f.current&&s({actionType:"selectFirst"}),!r&&!f.current&&s({actionType:"commit"}),f.current=!1}),[s,r]),{dateClearedRef:S,dateFieldHandlers:o?{}:{onClick:g,onDoubleClick:()=>{s({actionType:"selectDateOrSegment"})},onKeyDown:x,onPointerDown:()=>{f.current=!0,clearTimeout(T.current),T.current=setTimeout((()=>{f.current=!1}),200)}},segmentHandlers:o?{}:{onChange:F},tabIndex:y}})({dateResetRef:z,direction:A,dispatch:W,isDisabled:U,isFocused:C,isInputFocused:w,onCommit:p,onInput:S,state:Y}),te=void 0===F&&c&&!C,se=Y.isCompleteDate?P.formatFullCalendarDate(v,Y.currentDate,d):"",ae=`${l}-date`,oe=Y.isCompleteDate?t.jsx(R.HiddenAccessible,{id:ae,children:se}):void 0,ne=Y.isCompleteDate?B.merge([e,ae]):e,re=Z.current?f:"";return t.jsxs("div",{"aria-describedby":ne,"aria-label":o,"aria-labelledby":n,class:q,onfocusin:h,onfocusout:y,role:"group",ref:i,tabIndex:ee,...J,children:[t.jsx(I.Flex,{direction:"row",wrap:"nowrap",justify:b,children:m.map((({type:e,value:a})=>{const o="literal"!==e?X[e]:{};return"literal"===e?t.jsx(Ia,{isHidden:te,isHighlighted:G,isPlaceholder:!$,text:a}):t.jsx(Da,{isDisabled:U,isInvalid:!!s,isHidden:te,isHighlighted:G,isRequired:u,placeholder:a,type:e,...Q,...o})}))}),oe,t.jsx(M.LiveRegion,{children:re})]})},yo=s.forwardRef((({"aria-describedby":e,assistiveText:s,columnSpan:o,granularity:n="day",helpSourceLink:l,helpSourceText:i,isDisabled:d,isReadonly:m,isRequired:y,isRequiredShown:p,label:h,labelEdge:S,labelStartWidth:b,messages:F,masks:g,testId:x,textAlign:f,userAssistanceDensity:T,value:A,variant:v,onCommit:U,onInput:C},_)=>{const{isDisabled:E,isReadonly:w,labelEdge:k,labelStartWidth:I,textAlign:R,userAssistanceDensity:M}=Z.useFormContext(),B=d??E,L=m??w,V=S??k,j=b??I,O=f??R,G=T??M,{enabledElementRef:$,readonlyElementRef:X,focusProps:Q,isFocused:ee}=K.useFocusableTextField({isDisabled:B,isReadonly:L,ref:_}),{baseId:te,formFieldContext:se,inputProps:ae,labelProps:oe,textFieldProps:ne,userAssistanceProps:re}=J.useTextField({ariaDescribedBy:e,helpSourceLink:l,helpSourceText:i,isDisabled:B,isFocused:ee,isReadonly:L,isRequiredShown:p,labelEdge:V,messages:F,styleVariant:v,userAssistanceDensity:G,value:A}),{forId:le,...ie}=oe,{id:de,...ce}=ae,ue=ie.id,me=a.useCallback((()=>{$.current?.focus()}),[$]),ye="none"!==V?t.jsx(q.Label,{...B||L?{}:{onClick:me},...ie,children:h}):void 0,pe={label:"none"!==V?ye:void 0,labelEdge:"none"!==V?V:void 0,labelStartWidth:"none"!==V?j:void 0},he="none"===V?h:void 0,Se=void 0!==h&&"inside"===V,be="efficient"===G||"reflow"===G?B||L?"efficient"!==G?void 0:t.jsx(c.InlineUserAssistance,{userAssistanceDensity:G,...re}):t.jsx(c.InlineUserAssistance,{assistiveText:s,fieldLabel:h,helpSourceLink:l,helpSourceText:i,messages:F,isRequiredShown:p,userAssistanceDensity:G,...re}):void 0,Fe=a.useRef(null),ge="compact"===G?t.jsx(u.CompactUserAssistance,{anchorRef:Fe,messages:F,assistiveText:s,...re}):void 0,{locale:xe}=D.useUser(),fe=r.useTranslationBundle("@oracle/oraclejet-preact"),Te=fe.inputDateMask_monthPlaceholder(),Ae=fe.inputDateMask_dayPlaceholder(),ve=fe.inputDateMask_yearPlaceholder();if(g&&("day"===n&&5!==g.length||"month"===n&&3!==g.length))throw new Error("Specified masks must match the granularity");const Ue=a.useMemo((()=>g?N.translateCustomMasks(g,Te,Ae,ve):P.getDatePlaceholderMasks(xe,n,Te,Ae,ve)),[g,xe,n,Ae,Te,ve]);if(L)return t.jsx(H.FormFieldContext.Provider,{value:se,children:t.jsx(W.ReadonlyTextField,{role:"presentation",columnSpan:o,compactUserAssistance:ge,inlineUserAssistance:be,onBlur:Q.onfocusout,onFocus:Q.onfocusin,ref:Fe,testId:x,...pe,children:t.jsx(Y.ReadonlyTextFieldInput,{"aria-describedby":ce["aria-describedby"],"aria-label":he,"aria-labelledby":ie.id,as:"div",elementRef:X,textAlign:O,value:void 0===A?"":P.formatShortCalendarDate(A,n,Ue),hasEmptyLabel:""===h&&"none"===V,hasInsideLabel:Se})})});const Ce=t.jsx(mo,{"aria-label":he,"aria-labelledby":ue,baseId:te,fieldRef:$,granularity:n,hasInsideLabel:void 0!==ye&&"inside"===V,isRequired:y,masks:Ue,onCommit:U,onInput:C,textAlign:O,value:A,...ce});return t.jsx(H.FormFieldContext.Provider,{value:se,children:t.jsx(z.TextField,{columnSpan:o,compactUserAssistance:ge,inlineUserAssistance:be,mainContent:Ce,onBlur:Q.onfocusout,onFocus:Q.onfocusin,mainFieldRef:Fe,testId:x,...ne,...pe})})}));e.InputDateMask=yo,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_InputDateMask.js.map

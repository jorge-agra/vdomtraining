define(['exports', 'preact/jsx-runtime', 'preact/hooks', './Message-24df1a88', 'preact', './Floating-d924078b', 'preact/compat', './TopLayerHost-06d05670', './classNames-2e65b3b3', './useComponentTheme-f77b756d', './useTestId-af48c25c', 'css!./TooltipContentStyles.styles.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', 'css!./IconStyle.styles.css', './IconButton-671dbb94', './useTranslationBundle-d999fb18', 'css!./MessageStyles.styles.css', './MessageFormattingUtils-98877aa8', './MessagesManager-8e4d9a1b', './Flex-d0cc2f6e', './MessageUtils-410832f3', './LiveRegion-3f0fae4e', './useMessagesFocusManager-ad1c5b4e', './UNSAFE_MessageBanner/themes/redwood/MessageBannerTheme', './timer-82cc8424', './MessageCloseButton-a82a5650', './Close-059bfa6f', './Icon-1c51c520', './size-a13c8931', './utils-8a58b095', './Common/themes/themeContract.css', './colorUtils-709e88cf', './_curry1-a5ea38c3', './useTooltip-648a4c14', './useTooltipControlled-e99753ae', './useId-bea76214', './Layer-f22bc6df', './useThemeInterpolations-04c9a737', './useColorScheme-fd9da662', './useScale-57db0ae7', './theme-e50f9baa', './Theme-a05c79ae', './mergeInterpolations-8339fdb7', './_curry3-9f1efdbd', './_curry2-919f598e', './_isObject-e5ac15f2', './useHover-c613069f', './useToggle-4d231fba', './useFocus-9d062824', './useTouch-850c91e2', './mergeProps-7d608009', './useAnimation-71f423d8', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentTheme', './hooks/UNSAFE_useTooltip/themes/TooltipContentStyles.css', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentBaseTheme.css', 'css!./TooltipContentVariants.styles.css', './vanilla-extract-recipes-createRuntimeFn.esm-103a441d', './EnvironmentProvider-14a25d3a', './LayerManager-ae159a94', './logger-e130a3d8', './UNSAFE_Icon/themes/IconStyle.css', './PRIVATE_Message/themes/MessageStyles.css', './MessageDetail-dbd74265', './MessageStartIcon-e086a6c7', './SuccessS-869d229b', './ErrorS-c6d54ba8', './InformationS-9617ab47', './WarningS-3221de6c', './MessageSummary-15ee87fc', './MessageTimestamp-622e3cf8', './useFloating-907f899d', './useUser-e0989b0b', './positionUtils-332efab6', './refUtils-9ddc9039', './useOutsideClick-6689a91c', './arrayUtils-3a8f9f2d', './UNSAFE_Floating/themes/redwood/FloatingTheme', './UNSAFE_Floating/themes/FloatingStyles.css', 'css!./FloatingStyles.styles.css', './UNSAFE_Floating/themes/redwood/FloatingBaseTheme.css', 'module', './UNSAFE_Floating/themes/redwood/FloatingVariants.css', './vanilla-extract-dynamic.esm-8f33fc39', './UNSAFE_Floating/themes/FloatingContract.css', './Common/themes/redwood/theme', './BaseButton-0ad3564a', './usePress-80afb622', './useActive-dfb7e815', './TabbableModeContext-8858ed6b', './useTabbableMode-913efe07', './dimensions-ee4bfe23', './clientHints-aa2ccdd3', './UNSAFE_BaseButton/themes/BaseButtonStyles.css', 'css!./BaseButtonStyles.styles.css', './ButtonLayout-64cb114c', './Text-7cbb9b7a', './UNSAFE_Text/themes/TextStyles.css', 'css!./TextStyles.styles.css', './UNSAFE_ButtonLayout/themes/redwood/ButtonLayoutTheme', './UNSAFE_ButtonLayout/themes/ButtonLayoutStyles.css', 'css!./ButtonLayoutStyles.styles.css', './UNSAFE_ButtonLayout/themes/redwood/ButtonLayoutBaseTheme.css', 'module', './UNSAFE_ButtonLayout/themes/redwood/ButtonLayoutVariants.css', 'css!./ButtonLayoutVariants.styles.css', './getLocale-61827336', './stringUtils-fd898858', './Message.types-f1704955', './TransitionGroup-b7a438aa', './MessagesContext-7704d1bd', './useMessagesContext-f7ae2abb', './Transition-940ceb61', './boxalignment-7ec45526', 'css!./boxalignment.styles.css', './vanilla-extract-sprinkles-createRuntimeSprinkles.esm-f6bbe8f1', './flexbox-7c9a1acb', 'css!./flexbox.styles.css', './flexitem-c1ba5934', 'css!./flexitem.styles.css', 'css!./FlexStyles.styles.css', './soundUtils-07d963c0', 'css!./LiveRegionStyles.styles.css', './UNSAFE_MessageBanner/themes/MessageBannerStyles.css', 'css!./MessageBannerStyles.styles.css', './UNSAFE_MessageBanner/themes/redwood/MessageBannerBaseTheme.css', 'module', './UNSAFE_MessageBanner/themes/redwood/MessageBannerVariants.css', 'css!./MessageBannerVariants.styles.css'], (function(e,s,t,a,o,n,l,r,c,i,d,u,g,m,h,f,y,b,S,F,B,T,p,M,x,U,_,E,A,v,C,N,w,L,R,k,I,H,j,V,P,O,z,W,$,D,G,K,q,J,Q,X,Y,Z,ee,se,te,ae,oe,ne,le,re,ce,ie,de,ue,ge,me,he,fe,ye,be,Se,Fe,Be,Te,pe,Me,xe,Ue,_e,Ee,Ae,ve,Ce,Ne,we,Le,Re,ke,Ie,He,je,Ve,Pe,Oe,ze,We,$e,De,Ge,Ke,qe,Je,Qe,Xe,Ye,Ze,es,ss,ts,as,os,ns,ls,rs,cs,is,ds,us,gs,ms,hs,fs,ys,bs,Ss,Fs,Bs){"use strict";const Ts={entering:e=>({to:{maxHeight:`${e.scrollHeight}px`,overflow:"hidden"},options:{duration:250},end:{maxHeight:"none",overflow:"initial"}}),exiting:e=>({..."none"===e.style.maxHeight&&{from:{maxHeight:`${e.scrollHeight}px`,overflow:"hidden"}},to:{maxHeight:0,overflow:"hidden"},end:{maxHeight:0,overflow:"hidden"},options:{duration:250}})},ps={maxHeight:0,overflow:"hidden"};e.MessageBanner=function({detailRendererKey:e,data:o,onClose:n,renderers:l,testId:r,variant:u="section"}){const g=d.useTestId(r),m=t.useRef(new Map),h=t.useRef(null),f=t.useRef(null),[b,S]=t.useState(),[U,_]=t.useState(o.length>0),E=y.useTranslationBundle("@oracle/oraclejet-preact"),A=t.useRef(o.length),v=t.useRef(0);A.current=o.length;const C=t.useCallback((e=>s=>m.current.set(e,s)),[]);t.useImperativeHandle(f,(()=>({focus:()=>{if(o.length){const e=o[0].key;return m.current.get(e)?.focus(),!0}return!1},contains:e=>!(!o.length||!e)&&(h.current?.contains(e)??!1)})),[o]);const{controller:N,handlers:w}=M.useMessageFocusManager(f,{onFocus:t.useCallback((()=>{S(E.message_navigationFromMessagesRegion())}),[S,E])}),L=t.useCallback((e=>{n?.(e)}),[n]),R=t.useCallback(((e,s,t)=>{const a=t?.contains(document.activeElement);if(0===A.current)return _(!1),void(a&&N.restorePriorFocus());const n=s+1<o.length?s+1:s-1;if(n>-1&&a){const e=o[n].key;m.current.get(e)?.focus()}}),[N,o]);t.useEffect((()=>{o.length?(_(!0),o.length>v.current&&S(E.message_navigationToMessagesRegion()),N.prioritize()):S(""),v.current=o.length}),[N,o,E]);const{classes:k}=i.useComponentTheme(x.MessageBannerRedwoodTheme);return U||0!==o.length?s.jsx("div",{ref:h,class:c.classNames(["oj-c-messagebanner",k]),tabIndex:-1,...w,...g,children:s.jsxs(B.Flex,{direction:"column",gap:"section"===u?"1x":void 0,children:[s.jsx(F.MessagesManager,{animationStates:Ts,initialAnimationStyles:ps,data:o,onMessageWillRemove:R,children:({item:t})=>s.jsx(a.Message,{messageRef:C(t.key),item:t,detailRenderer:T.getRenderer(t,e,l),variant:"page"===u?"pageBanner":"sectionBanner",onClose:L},t.key)}),s.jsx(p.LiveRegion,{children:b})]})}):null},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_MessageBanner.js.map
